import{y as U,ba as B,z as k,aa as I,c as b,d as u,f as d,G as y,e as C,w as p,ar as O,n as m,R as _,g as c,ab as P,ap as S,t as f,S as r,H as R,U as V,F as z,C as M,q as E,aI as $,aL as F,bb as G,r as H,aZ as J,aH as K,aJ as j,aK as Z,bc as W,a_ as Q,aG as X}from"./FUspvFDj.js";const Y={slots:{root:"grid grid-cols-1 sm:grid-cols-2 gap-8",link:["group block px-6 py-8 rounded-lg border border-default hover:bg-elevated/50 focus-visible:outline-primary","transition-colors"],linkLeading:["inline-flex items-center rounded-full p-1.5 bg-elevated group-hover:bg-primary/10 ring ring-accented mb-4 group-hover:ring-primary/50","transition"],linkLeadingIcon:["size-5 shrink-0 text-highlighted group-hover:text-primary","transition-[color,translate]"],linkTitle:"font-medium text-[15px] text-highlighted mb-1 truncate",linkDescription:"text-sm text-muted line-clamp-2"},variants:{direction:{left:{linkLeadingIcon:["group-active:-translate-x-0.5"]},right:{link:"text-right",linkLeadingIcon:["group-active:translate-x-0.5"]}}}};function D(n,t,a=0){const o={title:"label",path:"to"},e=Object.keys(n).reduce((i,l)=>{if(n[l]){const h=o[l]||l;i[h]=n[l]}return i},{});return Array.isArray(n.children)?e.children=n.children.map(i=>D(i,t,a+1)):e.children=[],e}function ee(n,t){return n.map(a=>D(a,t))}const te={key:1,class:"hidden lg:block"},ne=Object.assign({inheritAttrs:!1},{__name:"UContentSurround",props:{as:{type:null,required:!1},prevIcon:{type:[String,Object],required:!1},nextIcon:{type:[String,Object],required:!1},surround:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(n){const t=n,a=U(),[o,e]=B({props:{link:Object,icon:String,direction:String}}),i=k(()=>I({extend:I(Y),...a.ui?.contentSurround||{}})());return(l,h)=>(u(),b(z,null,[d(r(o),null,{default:p(({link:s,icon:x,direction:v})=>[s?(u(),y(O,{key:0,to:s.path,raw:"",class:m(i.value.link({class:[t.ui?.link,s.ui?.link,s.class],direction:v}))},{default:p(()=>[_(l.$slots,"link",{link:s},()=>[c("div",{class:m(i.value.linkLeading({class:[t.ui?.linkLeading,s.ui?.linkLeading]}))},[_(l.$slots,"link-leading",{link:s},()=>[d(P,{name:s.icon||x,class:m(i.value.linkLeadingIcon({class:[t.ui?.linkLeadingIcon,s.ui?.linkLeadingIcon],direction:v}))},null,8,["name","class"])])],2),c("p",{class:m(i.value.linkTitle({class:[t.ui?.linkTitle,s.ui?.linkTitle]}))},[_(l.$slots,"link-title",{link:s},()=>[S(f(s.title),1)])],2),c("p",{class:m(i.value.linkDescription({class:[t.ui?.linkDescription,s.ui?.linkDescription]}))},[_(l.$slots,"link-description",{link:s},()=>[S(f(s.description),1)])],2)])]),_:2},1032,["to","class"])):(u(),b("span",te,"Â "))]),_:3}),n.surround?(u(),y(r(V),R({key:0,as:n.as},l.$attrs,{class:i.value.root({class:[t.ui?.root,t.class]})}),{default:p(()=>[d(r(e),{link:n.surround[0],icon:n.prevIcon||r(a).ui.icons.arrowLeft,direction:"left"},null,8,["link","icon"]),d(r(e),{link:n.surround[1],icon:n.nextIcon||r(a).ui.icons.arrowRight,direction:"right"},null,8,["link","icon"])]),_:1},16,["as","class"])):C("",!0)],64))}});function q(n,t,a){return!n?.length||!t?[]:n.reduce((o,e)=>(t&&(t+"/").startsWith(e.path+"/")&&((t!==e.path||a?.current||a?.indexAsChild)&&o.push(e),e.children&&o.push(...q(e.children.filter(i=>i.path!==e.path||i.path===t&&a?.current&&a?.indexAsChild),t,a))),o),[])}const ae={class:"flex flex-col gap-3 my-8"},se={class:"flex text-xs text-muted items-center justify-center gap-2"},ie={key:0},re={class:"lg:border-y border-primary-700/30"},oe={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},le={class:"text-muted text-center max-w-2xl mx-auto"},ue=M({__name:"[...slug]",async setup(n){let t,a;const o=E(),{data:e}=([t,a]=$(()=>j(o.path,()=>Z("projekt").path(o.path).first(),"$bS8bCDLuZJ")),t=await t,a(),t);if(!e.value)throw F({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:i}=([t,a]=$(()=>j(`${o.path}-surround`,()=>W("projekt",o.path,{fields:["description"]}))),t=await t,a(),t),l=G("navigation",H([])),h=k(()=>l.value.find(g=>g.path==="/projekt")?.children||[]);k(()=>ee(q(h?.value,e.value?.path)).map(({icon:g,...L})=>L)),e.value.image;const s=e.value?.seo?.title||e.value?.title,x=e.value?.seo?.description||e.value?.description;J({title:s,description:x,ogDescription:x,ogTitle:s}),k(()=>`${window?.location}`);const v=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(g,L)=>{const A=X,w=K,T=ne,N=Q;return u(),y(w,{class:"sm:border-x border-daniel-700/30 min-h-screen lg:px-0 relative pt-6"},{default:p(()=>[r(e)?(u(),y(N,{key:0},{default:p(()=>[c("div",ae,[c("div",se,[r(e).date?(u(),b("span",ie,f(v(r(e).date)),1)):C("",!0)]),c("div",re,[d(w,{class:"relative border-daniel-700/30 lg:px-18"},{default:p(()=>[d(A,{src:r(e).image,alt:r(e).title,class:"rounded-none w-full object-cover object-center border-x border-primary-700/30 max-h-[400px]"},null,8,["src","alt"])]),_:1})]),c("h1",oe,f(r(e).title),1),c("p",le,f(r(e).description),1)]),d(T,{surround:r(i),ui:{link:"rounded-none ",root:"sm:p-6 ",linkLeading:"rounded-none bg-transparent"}},null,8,["surround"])]),_:1})):C("",!0)]),_:1})}}});export{ue as default};
