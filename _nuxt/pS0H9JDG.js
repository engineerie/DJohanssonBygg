import{y as N,b8 as O,z as $,aa as C,c as b,d,f as p,G as f,e as k,w as m,ar as P,n as g,R as _,g as u,ab as R,ap as L,t as h,S as a,H as B,U as V,F as z,u as E,q as D,r as F,C as G,aI as I,aL as H,aX as J,aH as M,aJ as S,aK as K,b9 as X,aY as Y,aG as Z}from"./Dbot8wXe.js";import{_ as Q}from"./CnWS7WuH.js";const W={slots:{root:"grid grid-cols-1 sm:grid-cols-2 gap-8",link:["group block px-6 py-8 rounded-lg border border-default hover:bg-elevated/50 focus-visible:outline-primary","transition-colors"],linkLeading:["inline-flex items-center rounded-full p-1.5 bg-elevated group-hover:bg-primary/10 ring ring-accented mb-4 group-hover:ring-primary/50","transition"],linkLeadingIcon:["size-5 shrink-0 text-highlighted group-hover:text-primary","transition-[color,translate]"],linkTitle:"font-medium text-[15px] text-highlighted mb-1 truncate",linkDescription:"text-sm text-muted line-clamp-2"},variants:{direction:{left:{linkLeadingIcon:["group-active:-translate-x-0.5"]},right:{link:"text-right",linkLeadingIcon:["group-active:translate-x-0.5"]}}}},ee={key:1,class:"hidden lg:block"},te=Object.assign({inheritAttrs:!1},{__name:"UContentSurround",props:{as:{type:null,required:!1},prevIcon:{type:[String,Object],required:!1},nextIcon:{type:[String,Object],required:!1},surround:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(r){const t=r,i=N(),[o,e]=O({props:{link:Object,icon:String,direction:String}}),l=$(()=>C({extend:C(W),...i.ui?.contentSurround||{}})());return(c,v)=>(d(),b(z,null,[p(a(o),null,{default:m(({link:n,icon:y,direction:s})=>[n?(d(),f(P,{key:0,to:n.path,raw:"",class:g(l.value.link({class:[t.ui?.link,n.ui?.link,n.class],direction:s}))},{default:m(()=>[_(c.$slots,"link",{link:n},()=>[u("div",{class:g(l.value.linkLeading({class:[t.ui?.linkLeading,n.ui?.linkLeading]}))},[_(c.$slots,"link-leading",{link:n},()=>[p(R,{name:n.icon||y,class:g(l.value.linkLeadingIcon({class:[t.ui?.linkLeadingIcon,n.ui?.linkLeadingIcon],direction:s}))},null,8,["name","class"])])],2),u("p",{class:g(l.value.linkTitle({class:[t.ui?.linkTitle,n.ui?.linkTitle]}))},[_(c.$slots,"link-title",{link:n},()=>[L(h(n.title),1)])],2),u("p",{class:g(l.value.linkDescription({class:[t.ui?.linkDescription,n.ui?.linkDescription]}))},[_(c.$slots,"link-description",{link:n},()=>[L(h(n.description),1)])],2)])]),_:2},1032,["to","class"])):(d(),b("span",ee,"Â "))]),_:3}),r.surround?(d(),f(a(V),B({key:0,as:r.as},c.$attrs,{class:l.value.root({class:[t.ui?.root,t.class]})}),{default:m(()=>[p(a(e),{link:r.surround[0],icon:r.prevIcon||a(i).ui.icons.arrowLeft,direction:"left"},null,8,["link","icon"]),p(a(e),{link:r.surround[1],icon:r.nextIcon||a(i).ui.icons.arrowRight,direction:"right"},null,8,["link","icon"])]),_:1},16,["as","class"])):k("",!0)],64))}});function ne(r={}){const t=E(),o=D().path||"/";if(t.payload.path===o){const e=F(!1);e.value=!0}}const ae={class:"flex flex-col gap-3 my-12"},se={class:"flex text-xs text-muted items-center justify-center gap-2"},re={key:0},ie={class:"border-y border-primary-700/30 mb-4"},oe={class:"text-3xl sm:text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},le={class:"text-muted text-center max-w-2xl mx-auto"},de=G({__name:"[...slug]",async setup(r){let t,i;const o=D(),{data:e}=([t,i]=I(()=>S(o.path,()=>K("projekt").path(o.path).first(),"$bS8bCDLuZJ")),t=await t,i(),t);if(!e.value)throw H({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:l}=([t,i]=I(()=>S(`${o.path}-surround`,()=>X("projekt",o.path,{fields:["description"]}))),t=await t,i(),t),c=e.value?.seo?.title||e.value?.title,v=e.value?.seo?.description||e.value?.description;J({title:c,description:v,ogDescription:v,ogTitle:c});const n=$(()=>{const s=e.value||{};return(Array.isArray(s.images)&&s.images.length?s.images:s.image?[s.image]:[]).filter(x=>typeof x=="string"&&x.length>0)});e.value&&(Array.isArray(e.value.images)&&e.value.images[0]||e.value.image)&&ne({});const y=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(s,A)=>{const x=Z,j=Q,w=M,q=te,T=Y;return d(),f(w,{class:"sm:border-x border-daniel-700/30 min-h-screen px-0 sm:px-0 lg:px-0 relative pt-6"},{default:m(()=>[a(e)?(d(),f(T,{key:0},{default:m(()=>[u("div",ae,[u("div",se,[a(e).date?(d(),b("span",re,h(y(a(e).date)),1)):k("",!0)]),u("div",ie,[p(w,{class:"relative border-daniel-700/30 sm:px-24 lg:px-40"},{default:m(()=>[a(n).length?(d(),f(j,{key:0,items:a(n),dots:"",arrows:"",ui:{prev:"rounded-none",next:"rounded-none",dots:"-bottom-4",dot:"w-6 h-1"},class:"w-full border-x border-daniel-700/30"},{default:m(({item:U})=>[p(x,{src:U,alt:a(e).title,width:"800",height:"450",class:"rounded-none w-full object-cover object-center"},null,8,["src","alt"])]),_:1},8,["items"])):k("",!0)]),_:1})]),u("h1",oe,h(a(e).title),1),u("p",le,h(a(e).description),1)]),p(q,{surround:a(l),ui:{link:"rounded-none ",root:"p-6 ",linkLeading:"rounded-none bg-transparent"}},null,8,["surround"])]),_:1})):k("",!0)]),_:1})}}});export{de as default};
