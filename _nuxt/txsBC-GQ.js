import{y as O,b9 as R,z as y,aa as L,c as C,h as d,e as c,G as k,d as I,w as p,ar as M,n as m,R as b,f as u,ab as j,ap as $,t as f,S as r,H as V,U as z,F as H,C as E,q as F,aG as S,aJ as G,ba as K,r as J,aK as W,aN as Q,aH as D,aI as X,bb as Y,a$ as Z,an as ee,aM as te}from"./D6x5IDNU.js";const ne={slots:{root:"grid grid-cols-1 sm:grid-cols-2 gap-8",link:["group block px-6 py-8 rounded-lg border border-default hover:bg-elevated/50 focus-visible:outline-primary","transition-colors"],linkLeading:["inline-flex items-center rounded-full p-1.5 bg-elevated group-hover:bg-primary/10 ring ring-accented mb-4 group-hover:ring-primary/50","transition"],linkLeadingIcon:["size-5 shrink-0 text-highlighted group-hover:text-primary","transition-[color,translate]"],linkTitle:"font-medium text-[15px] text-highlighted mb-1 truncate",linkDescription:"text-sm text-muted line-clamp-2"},variants:{direction:{left:{linkLeadingIcon:["group-active:-translate-x-0.5"]},right:{link:"text-right",linkLeadingIcon:["group-active:translate-x-0.5"]}}}};function q(n,t,a=0){const o={title:"label",path:"to"},e=Object.keys(n).reduce((i,l)=>{if(n[l]){const h=o[l]||l;i[h]=n[l]}return i},{});return Array.isArray(n.children)?e.children=n.children.map(i=>q(i,t,a+1)):e.children=[],e}function ae(n,t){return n.map(a=>q(a,t))}const se={key:1,class:"hidden lg:block"},ie=Object.assign({inheritAttrs:!1},{__name:"UContentSurround",props:{as:{type:null,required:!1},prevIcon:{type:[String,Object],required:!1},nextIcon:{type:[String,Object],required:!1},surround:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(n){const t=n,a=O(),[o,e]=R({props:{link:Object,icon:String,direction:String}}),i=y(()=>L({extend:L(ne),...a.ui?.contentSurround||{}})());return(l,h)=>(d(),C(H,null,[c(r(o),null,{default:p(({link:s,icon:x,direction:_})=>[s?(d(),k(M,{key:0,to:s.path,raw:"",class:m(i.value.link({class:[t.ui?.link,s.ui?.link,s.class],direction:_}))},{default:p(()=>[b(l.$slots,"link",{link:s},()=>[u("div",{class:m(i.value.linkLeading({class:[t.ui?.linkLeading,s.ui?.linkLeading]}))},[b(l.$slots,"link-leading",{link:s},()=>[c(j,{name:s.icon||x,class:m(i.value.linkLeadingIcon({class:[t.ui?.linkLeadingIcon,s.ui?.linkLeadingIcon],direction:_}))},null,8,["name","class"])])],2),u("p",{class:m(i.value.linkTitle({class:[t.ui?.linkTitle,s.ui?.linkTitle]}))},[b(l.$slots,"link-title",{link:s},()=>[$(f(s.title),1)])],2),u("p",{class:m(i.value.linkDescription({class:[t.ui?.linkDescription,s.ui?.linkDescription]}))},[b(l.$slots,"link-description",{link:s},()=>[$(f(s.description),1)])],2)])]),_:2},1032,["to","class"])):(d(),C("span",se,"Â "))]),_:3}),n.surround?(d(),k(r(z),V({key:0,as:n.as},l.$attrs,{class:i.value.root({class:[t.ui?.root,t.class]})}),{default:p(()=>[c(r(e),{link:n.surround[0],icon:n.prevIcon||r(a).ui.icons.arrowLeft,direction:"left"},null,8,["link","icon"]),c(r(e),{link:n.surround[1],icon:n.nextIcon||r(a).ui.icons.arrowRight,direction:"right"},null,8,["link","icon"])]),_:1},16,["as","class"])):I("",!0)],64))}});function A(n,t,a){return!n?.length||!t?[]:n.reduce((o,e)=>(t&&(t+"/").startsWith(e.path+"/")&&((t!==e.path||a?.current||a?.indexAsChild)&&o.push(e),e.children&&o.push(...A(e.children.filter(i=>i.path!==e.path||i.path===t&&a?.current&&a?.indexAsChild),t,a))),o),[])}const re={class:"flex flex-col gap-3 my-8"},oe={class:"flex text-xs text-muted items-center justify-center gap-2"},le={key:0},ce={class:"lg:border-y border-primary-700/30"},ue={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},de={class:"text-muted text-center max-w-2xl mx-auto"},ge=E({__name:"[...slug]",async setup(n){let t,a;const o=F(),{data:e}=([t,a]=S(()=>D(o.path,()=>X("blog").path(o.path).first(),"$DquttgHoet")),t=await t,a(),t);if(!e.value)throw G({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:i}=([t,a]=S(()=>D(`${o.path}-surround`,()=>Y("blog",o.path,{fields:["description"]}))),t=await t,a(),t),l=K("navigation",J([])),h=y(()=>l.value.find(g=>g.path==="/blog")?.children||[]);y(()=>ae(A(h?.value,e.value?.path)).map(({icon:g,...v})=>v)),e.value.image;const s=e.value?.seo?.title||e.value?.title,x=e.value?.seo?.description||e.value?.description;W({title:s,description:x,ogDescription:x,ogTitle:s}),y(()=>`${window?.location}`);const _=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(g,v)=>{const N=j,T=ee,U=te,w=Q,B=ie,P=Z;return d(),k(w,{class:"sm:border-x border-daniel-700/30 min-h-screen lg:px-0 relative"},{default:p(()=>[r(e)?(d(),k(P,{key:0},{default:p(()=>[c(T,{to:"/blog",class:"text-sm rounded-none flex items-center gap-1 absolute left-4 top-3.5",color:"neutral",variant:"outline"},{default:p(()=>[c(N,{name:"lucide:chevron-left"}),v[0]||(v[0]=$(" Projekt ",-1))]),_:1,__:[0]}),u("div",re,[u("div",oe,[r(e).date?(d(),C("span",le,f(_(r(e).date)),1)):I("",!0)]),u("div",ce,[c(w,{class:"relative border-daniel-700/30 lg:px-18"},{default:p(()=>[c(U,{src:r(e).image,alt:r(e).title,class:"rounded-none w-full object-cover object-center border-x border-primary-700/30 max-h-[400px]"},null,8,["src","alt"])]),_:1})]),u("h1",ue,f(r(e).title),1),u("p",de,f(r(e).description),1)]),c(B,{surround:r(i),ui:{link:"rounded-none ",root:"sm:p-6 ",linkLeading:"rounded-none bg-transparent"}},null,8,["surround"])]),_:1})):I("",!0)]),_:1})}}});export{ge as default};
