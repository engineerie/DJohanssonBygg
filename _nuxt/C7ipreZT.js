import{x as P,aP as R,V as S,aD as C,c as w,d as m,f as i,a1 as h,e as k,w as c,aS as V,n as f,ad as x,g as p,aF as B,aW as I,t as _,ae as n,a2 as z,af as F,F as M,u as O,q,r as E,Y as J,ba as $,bc as W,bl as Y,b9 as Z,bb as D,S as G,R as H,bm as K,b7 as Q,b8 as X}from"./BZ2mHppW.js";import{_ as ee}from"./DQRuSN-8.js";const te={slots:{root:"grid grid-cols-1 sm:grid-cols-2 gap-8",link:["group block px-6 py-8 rounded-lg border border-default hover:bg-elevated/50 focus-visible:outline-primary","transition-colors"],linkLeading:["inline-flex items-center rounded-full p-1.5 bg-elevated group-hover:bg-primary/10 ring ring-accented mb-4 group-hover:ring-primary/50","transition"],linkLeadingIcon:["size-5 shrink-0 text-highlighted group-hover:text-primary","transition-[color,translate]"],linkTitle:"font-medium text-[15px] text-highlighted mb-1 truncate",linkDescription:"text-sm text-muted line-clamp-2"},variants:{direction:{left:{linkLeadingIcon:["group-active:-translate-x-0.5"]},right:{link:"text-right",linkLeadingIcon:["group-active:translate-x-0.5"]}}}},ae={key:1,class:"hidden lg:block"},ne=Object.assign({inheritAttrs:!1},{__name:"UContentSurround",props:{as:{type:null,required:!1},prevIcon:{type:null,required:!1},nextIcon:{type:null,required:!1},surround:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(r){const t=r,l=P(),[u,e]=R({props:{link:Object,icon:String,direction:String}}),s=S(()=>C({extend:C(te),...l.ui?.contentSurround||{}})());return(d,v)=>(m(),w(M,null,[i(n(u),null,{default:c(({link:a,icon:b,direction:o})=>[a?(m(),h(V,{key:0,to:a.path,raw:"","data-slot":"link",class:f(s.value.link({class:[t.ui?.link,a.ui?.link,a.class],direction:o}))},{default:c(()=>[x(d.$slots,"link",{link:a,ui:s.value},()=>[p("div",{"data-slot":"linkLeading",class:f(s.value.linkLeading({class:[t.ui?.linkLeading,a.ui?.linkLeading]}))},[x(d.$slots,"link-leading",{link:a,ui:s.value},()=>[i(B,{name:a.icon||b,"data-slot":"linkLeadingIcon",class:f(s.value.linkLeadingIcon({class:[t.ui?.linkLeadingIcon,a.ui?.linkLeadingIcon],direction:o}))},null,8,["name","class"])])],2),p("p",{"data-slot":"linkTitle",class:f(s.value.linkTitle({class:[t.ui?.linkTitle,a.ui?.linkTitle]}))},[x(d.$slots,"link-title",{link:a,ui:s.value},()=>[I(_(a.title),1)])],2),p("p",{"data-slot":"linkDescription",class:f(s.value.linkDescription({class:[t.ui?.linkDescription,a.ui?.linkDescription]}))},[x(d.$slots,"link-description",{link:a,ui:s.value},()=>[I(_(a.description),1)])],2)])]),_:2},1032,["to","class"])):(m(),w("span",ae,"Â "))]),_:3}),r.surround?(m(),h(n(F),z({key:0,as:r.as},d.$attrs,{"data-slot":"root",class:s.value.root({class:[t.ui?.root,t.class]})}),{default:c(()=>[i(n(e),{link:r.surround[0],icon:r.prevIcon||n(l).ui.icons.arrowLeft,direction:"left"},null,8,["link","icon"]),i(n(e),{link:r.surround[1],icon:r.nextIcon||n(l).ui.icons.arrowRight,direction:"right"},null,8,["link","icon"])]),_:1},16,["as","class"])):k("",!0)],64))}});function se(r={}){const t=O(),u=q().path||"/";if(t.payload.path===u){const e=E(!1);e.value=!0}}const oe={class:"flex flex-col gap-3 my-12"},ie={class:"flex text-xs text-muted items-center justify-center gap-2"},re={key:0},le={class:"border-y border-primary-500/30 mb-4"},ce={class:"text-3xl sm:text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},ue={class:"text-muted text-center max-w-2xl mx-auto"},me=J({__name:"[...slug]",async setup(r){let t,l;const u=q(),{data:e}=([t,l]=$(()=>D(u.path,()=>G("projekt").path(u.path).first(),"$bS8bCDLuZJ")),t=await t,l(),t);if(!e.value)throw W({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:s}=([t,l]=$(()=>D(`${u.path}-surround`,()=>H("projekt",u.path,{fields:["description"]}))),t=await t,l(),t),d=e.value?.seo?.title||e.value?.title,v=e.value?.seo?.description||e.value?.description;Y({title:d,description:v,ogDescription:v,ogTitle:d});const a=S(()=>{const o=e.value||{};return(Array.isArray(o.images)&&o.images.length?o.images:o.image?[o.image]:[]).filter(g=>typeof g=="string"&&g.length>0)});e.value&&(Array.isArray(e.value.images)&&e.value.images[0]||e.value.image)&&se({});const b=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(o,A)=>{const g=X,T=Q,U=ee,L=Z,j=ne,N=K;return m(),h(L,{class:"sm:border-x border-daniel-500/30 min-h-screen px-0 sm:px-0 lg:px-0 relative pt-6"},{default:c(()=>[n(e)?(m(),h(N,{key:0},{default:c(()=>[p("div",oe,[p("div",ie,[n(e).date?(m(),w("span",re,_(b(n(e).date)),1)):k("",!0)]),p("div",le,[i(L,{class:"relative border-daniel-500/30 sm:px-24 lg:px-40"},{default:c(()=>[n(a).length?(m(),h(U,{key:0,items:n(a),dots:"",arrows:"",ui:{prev:"rounded-none",next:"rounded-none",dots:"-bottom-4",dot:"w-6 h-1"},class:"w-full border-x border-daniel-500/30"},{default:c(({item:y})=>[i(T,{ui:{content:"rounded-none"}},{content:c(()=>[i(g,{src:y,alt:n(e).title,width:"800",format:"webp",quality:"80",fit:"cover",class:"w-full object-center"},null,8,["src","alt"])]),default:c(()=>[i(g,{src:y,alt:n(e).title,width:"1000",height:"600",format:"webp",quality:"80",fit:"cover",class:"rounded-none w-full cursor-zoom-in"},null,8,["src","alt"]),i(g,{src:y,alt:n(e).title,width:"800",format:"webp",quality:"80",fit:"cover",class:"w-full object-center hidden"},null,8,["src","alt"])]),_:2},1024)]),_:1},8,["items"])):k("",!0)]),_:1})]),p("h1",ce,_(n(e).title),1),p("p",ue,_(n(e).description),1)]),i(j,{surround:n(s),ui:{link:"rounded-none ",root:"p-6 ",linkLeading:"rounded-none bg-transparent"}},null,8,["surround"])]),_:1})):k("",!0)]),_:1})}}});export{me as default};
